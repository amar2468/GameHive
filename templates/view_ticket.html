{% extends 'base.html' %}
{% load static %}
{% block title %}View Ticket{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/view_ticket.js' %}"></script>
{% endblock %}

<body>
    {% block content %}

    <section id="main_section">
        <section id="flex_container_section" class="d-flex container gap-5">
            <section class="mb-5 ms-sm-0 ms-md-5 col-md-5 flex-grow-1" id="heading_for_viewing_ticket_page">
                <h2 class="mt-3 mb-5">{{ ticket_info.ticket_title }}</h2>
                <p class="mt-3 mb-5">{{ ticket_info.ticket_description }}</p>
                
                <hr>

                <section id="comments_section">
                    <h4>Comments</h4>
                </section>
            </section>

            <section class="ms-sm-0 ms-md-5">
                
                <div class="ticket_info mt-3 col-md-7 ms-auto">
                    <button class="toggle_sidebar_btn mb-1 btn-primary btn-lg" style="float:right;" type="button" id="toggle_sidebar" aria-label="Toggle sidebar"><i class="bi bi-list"></i></button>
                    
                    <dl class="row d-none">
                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Ticket ID</dt>
                        <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_id }}</dd>

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Requester</dt>
                        {% if ticket_info.requester_email == "" %}
                            <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.requester_username }}</dd>
                        {% else %}
                            <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.requester_email }}</dd>
                        {% endif %}

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Ticket Type</dt>
                        <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_request_type }}</dd>

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Ticket Status</dt>
                        <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_status }}</dd>

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Assigned To</dt>
                        {% if ticket_info.ticket_assigned_to == "" %}
                            <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">Unassigned</dd>
                        {% else %}
                            <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_assigned_to }}</dd>
                        {% endif %}

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Created At</dt>
                        <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_created_at }}</dd>

                        <dt class="ticket_attributes mt-2 ms-1 me-2 ">Updated At</dt>
                        <dd class="ticket_attribute_values mt-2 ms-1 me-2 ">{{ ticket_info.ticket_updated_at }}</dd>
                    </dl>
                </div>
            </section>
        </section>
    </section>
    {% endblock %}
</body>